<!DOCTYPE html>
<html
  lang="ko"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{common/main}"
>
  <head>
	    <link rel="stylesheet" href="/css/myPage/profile.css">
  </head>
  <th:block layout:fragment="main">
    <form action="profileform" method="POST" name="profileForm" id="profileForm" class="profileForm">
        <!-- 아이디 (수정x 보여지기만) -->
        <div class="profile-input-area">
          <label>아이디</label>
            <input th:value="${session.loginMember.memberId}" type="text" readonly/>
        </div>
  
        <!-- 이름 수정-->
        <div class="profile-input-area">
          <label>이름</label>
            <input th:value="${session.loginMember.memberName}" type="text" id="memberName"  name="memberName" placeholder="수정할 이름을 입력해주세요" />
            <span ID="updateNameMessage"></span>
        </div>
  
        <!-- 닉네임 수정-->
        <div class="profile-input-area">
          <label>닉네임</label>
            <input th:value="${session.loginMember.memberNickName}" type=text id="memberNickName" name="memberNickName" placeholder="수정할 닉네임을 입력해주세요"/>
            <span id="nicknameMessage"></span>
          <br/>
        </div>
        
        <!-- 전화번호 수정-->
        <div class="profile-input-area">
          <label>전화번호</label>
            <input th:value="${session.loginMember.memberPhoneNo}" type=text id="memberPhoneNo" name="memberPhoneNo" placeholder="수정할 전화번호를 입력해주세요" />
          <br/>
          <span id="phoneNoMessage"></span>
        </div>
        
        <!-- 주소 입력 -->
        <label for="memberAddress">주소</label>
  
        <div class="">
  
          <input type="text" name="memberAddress" placeholder="우편번호" maxlength="6" id="postcode" th:value="${postcode}"/>                       
  
          
          <button type="button" id="searchAddress">검색</button>
        </div>
  
        <div class="profile-input-area">
  
          <input type="text" name="memberAddress" placeholder="도로명/지번 주소" id="address" th:value="${address}"/>
        </div>
  
        <div class="profile-input-area">
          <input type="text" name="memberAddress" placeholder="상세 주소" id="detailAddress" th:value="${detailAddress}"/>
  
        </div>
  
        <!-- 이메일 입력 -->
        <div class="profile-input-area" >
          <div class="profile-email-area" id="emailDiv" style="pointer-events:none"> 
            <label for="memberEmail"> <span class="required">*</span>이메일 </label>
  
            
            <input type="email" class="email" id="memberEmail"  th:value="${session.loginMember.memberEmail}" readonly/>
            
          </div> 
  
          <!-- 이메일 변경 버튼 -->
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateEmailModal" id="updateEmailBtn">
            이메일 변경
          </button>
          <!-- 이메일 변경 모달창 -->
          <div class="modal fade" id="updateEmailModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="staticBackdropLabel">이메일 변경</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <p>변경할 이메일을 작성후 인증번호 요청 버튼을 눌러주세요</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button> 
                </div>
              </div>
            </div>
          </div>
   
          <span class="signup-message" id="emailMessage"></span>
  
          <br />
          
  
          <!--인증번호 요청 버튼 -->
          <div id="authKeyDiv">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1" id="sendAuthKeyBtn" style="display:none">
              인증번호 요청
            </button>
          </div>
  
          <!-- 인증번호 입력하는 모달창 -->
          <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel1">인증번호 요청</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <span class="required">*</span> 인증번호
                  <input
                    type="text"
                    name="authKey"
                    id="authKey"
                    placeholder="인증번호 입력"
                    maxlength="6"
                    autocomplete="off"
                  />
                  <br/>
                  <span class="update-message" id="authKeyMessage"></span>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                  <button type="button" class="btn btn-primary"id="checkAuthKeyBtn" >인증하기</button>
                </div>
              </div>
            </div>
          </div>
  
        </div>
  
        <br />  
  
          <!-- 수정완료버튼, 취소버튼 -->
        <div class="profile-submit">
            <a href="/user/myPage" id="cancleprofile">취소</a>
            <button id="profileBtn" >수정완료</button>
        </div>  
      </form> 
















      <form class="row g-3">
        <div class="col-md-4">
          <label for="validationServer01" class="form-label">First name</label>
          <input type="text" class="form-control is-valid" id="validationServer01" value="Mark" required>
          <div class="valid-feedback">
            Looks good!
          </div>
        </div>
        <div class="col-md-4">
          <label for="validationServer02" class="form-label">Last name</label>
          <input type="text" class="form-control is-valid" id="validationServer02" value="Otto" required>
          <div class="valid-feedback">
            Looks good!
          </div>
        </div>
        <div class="col-md-4">
          <label for="validationServerUsername" class="form-label">Username</label>
          <div class="input-group has-validation">
            <span class="input-group-text" id="inputGroupPrepend3">@</span>
            <input type="text" class="form-control is-invalid" id="validationServerUsername" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
            <div id="validationServerUsernameFeedback" class="invalid-feedback">
              Please choose a username.
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label for="validationServer03" class="form-label">City</label>
          <input type="text" class="form-control is-invalid" id="validationServer03" aria-describedby="validationServer03Feedback" required>
          <div id="validationServer03Feedback" class="invalid-feedback">
            Please provide a valid city.
          </div>
        </div>
        <div class="col-md-3">
          <label for="validationServer04" class="form-label">State</label>
          <select class="form-select is-invalid" id="validationServer04" aria-describedby="validationServer04Feedback" required>
            <option selected disabled value="">Choose...</option>
            <option>...</option>
          </select>
          <div id="validationServer04Feedback" class="invalid-feedback">
            Please select a valid state.
          </div>
        </div>
        <div class="col-md-3">
          <label for="validationServer05" class="form-label">Zip</label>
          <input type="text" class="form-control is-invalid" id="validationServer05" aria-describedby="validationServer05Feedback" required>
          <div id="validationServer05Feedback" class="invalid-feedback">
            Please provide a valid zip.
          </div>
        </div>
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" required>
            <label class="form-check-label" for="invalidCheck3">
              Agree to terms and conditions
            </label>
            <div id="invalidCheck3Feedback" class="invalid-feedback">
              You must agree before submitting.
            </div>
          </div>
        </div>
        <div class="col-12">
          <button class="btn btn-primary" type="submit">Submit form</button>
        </div>
      </form>





















  
      <!-- 비밀번호 변경 버튼 -->
      <div>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal2">
          비밀번호 변경
        </button>
        <!-- 비밀번호 변경 모달창 -->
        <form action="/user/changePw" method="POST" id="updatePwForm" name="updatePwForm">
          <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel2">비밀번호 변경</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <label>
                  변경할 비밀번호 입력 <input type="password" placeholder="변경할 비밀번호를 입력해주세요" id="newPw" name="newPw"/>
                  <br>
                  변경될 비밀번호 확인  <input type="password" placeholder="변경 비밀번호를 확인해주세요" id="newPwConfirm" name="newPwConfirm"/>
                  </label>
                  <br>
                  <span class="update-message" id="updatePwMessage"></span>
                  <br>
                </div>
                <div class="modal-footer"> 
                  <label>
                    현재 비밀번호 입력 <input type="password" placeholder= "비밀번호를 입력해주세요" id="currentPw" name="currentPw"/>
                  </label>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                  <button class="btn btn-primary" id="changePwBtn">변경</button>
                </div>
              </div>  
            </div>
          </div> 
        </form>
      </div>
  </th:block>
</html>